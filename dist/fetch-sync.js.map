{"version":3,"sources":["webpack:///webpack/universalModuleDefinition","webpack:///webpack/bootstrap add78dd90205e91f86fc","webpack:///./~/shortid/lib/alphabet.js","webpack:///./~/shortid/lib/encode.js","webpack:///./~/shortid/index.js","webpack:///./~/msgr/index.js","webpack:///./~/serialise-request/dist/serialise-request.min.js","webpack:///./~/serialise-response/index.js","webpack:///./~/msgr/~/mini-defer/index.js","webpack:///./~/shortid/lib/build.js","webpack:///./~/shortid/lib/decode.js","webpack:///./~/shortid/lib/index.js","webpack:///./~/shortid/lib/is-valid.js","webpack:///./~/shortid/lib/random/random-byte-browser.js","webpack:///./~/shortid/lib/random/random-from-seed.js","webpack:///./~/shortid/lib/util/cluster-worker-id-browser.js","webpack:///./~/mini-defer/index.js","webpack:///./~/sw-register/index.js","webpack:///./src/client.js"],"names":["msgr","require","shortid","defer","register","serialiseRequest","serialiseResponse","ready","syncs","channel","hasStartedInit","hasBackgroundSyncSupport","syncUtil","_base","id","name","createdOn","syncedOn","request","response","cancelled","_create","obj","createFromUserOptions","generate","Date","now","hydrate","sync","deserialise","resolve","makePublicApi","Object","assign","promise","cancel","send","Promise","reject","Error","openCommsChannel","worker","client","SYNC_RESULT","find","s","realResponse","_fetchSync","fetchSync","options","isRequestOptionsCall","length","Request","arguments","fetch","err","push","then","init","fetchSync_init","navigator","window","c","data","map","get","waitForReady","fetchSync_get","getAll","fetchSync_getAll","fetchSync_cancel","cancelAll","fetchSync_cancelAll","method","fetchSync_readyWrapper","args"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA,mDAA2C,cAAc;;AAEzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA,aAAK;AACL;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;AAEA;AACA;;;;;;;;AChEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,KAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACjGA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AClBA;AACA;;;;;;;;ACDA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,CAAC;;AAED;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,WAAW,0BAA0B;AACrC,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA,WAAW,0BAA0B;AACrC,WAAW,OAAO;AAClB,aAAa;AAC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BAAuB,kBAAkB,yCAAyC,uCAAuC,iEAAiE,+CAA+C,8EAA8E,EAAE,GAAG,sBAAsB,aAAa,kBAAkB,SAAS,uBAAuB,kBAAkB,kBAAkB,GAAG,EAAE,GAAG,SAAS,EAAE,GAAG,E;;;;;;;oECAhtX;;AAEA;;AAEA;AACA;AACA;AACA,+DAA+D;AAC/D;AACA;AACA,iBAAiB,uBAAuB;AACxC;AACA;AACA;AACA,sCAAsC,iBAAiB;AACvD;;AAEA;AACA;AACA,WAAW,SAAS;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAiB,wBAAwB;AACzC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAO;AACP;AACA,GAAG;AACH;;AAEA;AACA;AACA,WAAW,cAAc;AACzB;AACA;AACA;;AAEA;AACA;AACA,GAAG;AACH;AACA,GAAG;AACH;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AAAA;AACH;AACA;AACA,GAAG;AAAA;AACH,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;;;;;;;kCC7FA;;AAEA;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,GAAG;AAAA;AACH,CAAC;AACD;AACA,CAAC;AACD;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;;;;;;;;ACpCA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,KAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;;AC/CA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AChBA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;AChEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,kBAAkB,SAAS;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;AClBA;;AAEA,8EAA8E;;AAE9E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;;ACbA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;;;;;;;ACxBA;;AAEA;;;;;;;;;ACFA;;AAEA;;AAEA;AACA;AACA,aAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;;;;;;;;ACpBA;;AAEA;;AAEA;AACA,iDAAqC,kBAAkB;AAAA;AACvD,CAAC;AACD;AACA,CAAC;AACD;AACA;;AAEA;AACA;AACA,WAAW,OAAO;AAClB,aAAa;AACb;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA,OAAO;AACP;AACA;AACA;AACA;AACA;AACA,aAAa;AACb,OAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA,KAAK;AACL;;;;;;;;ACxDA;;AAEA;;;;;;;;;;;;AAEA,IAAMA,OAAO,mBAAAC,CAAQ,CAAR,CAAb;AACA,IAAMC,UAAU,mBAAAD,CAAQ,CAAR,CAAhB;AA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","file":"fetch-sync.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"fetchSync\"] = factory();\n\telse\n\t\troot[\"fetchSync\"] = factory();\n})(this, function() {\nreturn \n\n\n// WEBPACK FOOTER //\n// webpack/universalModuleDefinition"," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// identity function for calling harmony imports with the correct context\n \t__webpack_require__.i = function(value) { return value; };\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 17);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap add78dd90205e91f86fc","'use strict';\n\nvar randomFromSeed = require('./random/random-from-seed');\n\nvar ORIGINAL = '0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-';\nvar alphabet;\nvar previousSeed;\n\nvar shuffled;\n\nfunction reset() {\n    shuffled = false;\n}\n\nfunction setCharacters(_alphabet_) {\n    if (!_alphabet_) {\n        if (alphabet !== ORIGINAL) {\n            alphabet = ORIGINAL;\n            reset();\n        }\n        return;\n    }\n\n    if (_alphabet_ === alphabet) {\n        return;\n    }\n\n    if (_alphabet_.length !== ORIGINAL.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. You submitted ' + _alphabet_.length + ' characters: ' + _alphabet_);\n    }\n\n    var unique = _alphabet_.split('').filter(function(item, ind, arr){\n       return ind !== arr.lastIndexOf(item);\n    });\n\n    if (unique.length) {\n        throw new Error('Custom alphabet for shortid must be ' + ORIGINAL.length + ' unique characters. These characters were not unique: ' + unique.join(', '));\n    }\n\n    alphabet = _alphabet_;\n    reset();\n}\n\nfunction characters(_alphabet_) {\n    setCharacters(_alphabet_);\n    return alphabet;\n}\n\nfunction setSeed(seed) {\n    randomFromSeed.seed(seed);\n    if (previousSeed !== seed) {\n        reset();\n        previousSeed = seed;\n    }\n}\n\nfunction shuffle() {\n    if (!alphabet) {\n        setCharacters(ORIGINAL);\n    }\n\n    var sourceArray = alphabet.split('');\n    var targetArray = [];\n    var r = randomFromSeed.nextValue();\n    var characterIndex;\n\n    while (sourceArray.length > 0) {\n        r = randomFromSeed.nextValue();\n        characterIndex = Math.floor(r * sourceArray.length);\n        targetArray.push(sourceArray.splice(characterIndex, 1)[0]);\n    }\n    return targetArray.join('');\n}\n\nfunction getShuffled() {\n    if (shuffled) {\n        return shuffled;\n    }\n    shuffled = shuffle();\n    return shuffled;\n}\n\n/**\n * lookup shuffled letter\n * @param index\n * @returns {string}\n */\nfunction lookup(index) {\n    var alphabetShuffled = getShuffled();\n    return alphabetShuffled[index];\n}\n\nmodule.exports = {\n    characters: characters,\n    seed: setSeed,\n    lookup: lookup,\n    shuffled: getShuffled\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/shortid/lib/alphabet.js\n// module id = 0\n// module chunks = 0 1","'use strict';\n\nvar randomByte = require('./random/random-byte');\n\nfunction encode(lookup, number) {\n    var loopCounter = 0;\n    var done;\n\n    var str = '';\n\n    while (!done) {\n        str = str + lookup( ( (number >> (4 * loopCounter)) & 0x0f ) | randomByte() );\n        done = number < (Math.pow(16, loopCounter + 1 ) );\n        loopCounter++;\n    }\n    return str;\n}\n\nmodule.exports = encode;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/shortid/lib/encode.js\n// module id = 1\n// module chunks = 0 1","'use strict';\nmodule.exports = require('./lib/index');\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/shortid/index.js\n// module id = 2\n// module chunks = 0 1","/* global Promise:false, define:false, module:false, self:false, MessageChannel:false */\n\n'use strict'\n\nvar shortid = require('shortid')\nvar defer = require('mini-defer')\n\n// Proxy references for testing\ntry {\n  var _self = self\n  var _MessageChannel = MessageChannel\n} catch (err) {}\n\n// ---\n// API\n// ---\n\n/**\n * Initialise a client or worker to send and receive messages.\n * @param {Object} messageHandlers\n * @param {ServiceWorkerRegistration} worker\n * @returns {Channel}\n */\nfunction msgr (messageHandlers, worker) {\n  return new Channel(messageHandlers, worker)\n}\n\n/**\n * Initialise a worker to send and receive messages to and from the client.\n * @param {Object} messageHandlers\n * @returns {Channel}\n */\nmsgr.worker = function (messageHandlers) {\n  return msgr(messageHandlers, null)\n}\n\n/**\n * Initialise a client to send and receive messages to and from the worker.\n * @param {ServiceWorkerRegistration} worker\n * @param {Object} messageHandlers\n * @returns {Channel}\n */\nmsgr.client = function (worker, messageHandlers, __mockMessageChannel) {\n  _self = __mockMessageChannel ? {} : self\n  _MessageChannel = __mockMessageChannel || MessageChannel\n  return msgr(messageHandlers, worker)\n}\n\n// Reserved message types\nmsgr.types = {\n  CONNECT: '@@MSGR/CONNECT',\n  UNKNOWN: '@@MSGR/UNKNOWN',\n  RESPONSE: '@@MSGR/RESPONSE'\n}\n\n// ---\n// Channel\n// ---\n\nfunction Channel (handlers, worker) {\n  this.handlers = handlers\n  this.isClient = Boolean(worker)\n  this.isWorker = !this.isClient\n\n  // Is the comms channel open?\n  this.open = defer()\n\n  // Handlers for unknown message types\n  this.receiveHandlers = []\n\n  // Deferreds for sent messages so we can resolve\n  // the promise if they receive a response\n  this.promises = {}\n\n  if (this.isClient) {\n    this.open.resolve()\n    this.recipient = worker\n    this.messageChannel = new _MessageChannel()\n    this.messageChannel.port1.onmessage = this._handleMessage.bind(this)\n    this.send(msgr.types.CONNECT)\n  } else {\n    _self.onmessage = this._handleMessage.bind(this)\n  }\n}\n\n/**\n * Handle a message received from the client or worker.\n * @param {Object} event\n * @private\n */\nChannel.prototype._handleMessage = function (event) {\n  try {\n    var request = JSON.parse(event.data)\n    var id = request.id\n    var type = request.type\n    if (!id || !type) throw new Error()\n  } catch (err) {\n    throw new Error('msgr: malformed message')\n  }\n\n  var responder = function (data) {\n    this.send(msgr.types.RESPONSE, data, id)\n  }.bind(this)\n\n  if (this.isWorker && request.data === msgr.types.CONNECT) {\n    // Special init message type that gives us the port\n    // that we will be sending messages to the client over\n    this.recipient = event.ports[0]\n    this.open.resolve()\n  }\n\n  if (request.type === msgr.types.UNKNOWN && request.data in this.handlers) {\n    // Known message type without data, invoke registered handler\n    this.handlers[request.data](null, responder)\n  } else if (request.type in this.handlers) {\n    // Known message type with data, invoke registered handler\n    this.handlers[request.type](request.data, responder)\n  } else if (id && id in this.promises) {\n    // Response to a message, invoke registered response handler\n    var promise = this.promises[id]\n    promise.resolve(request.data)\n    this.promises[id] = null\n  } else {\n    // Unknown message type, invoke receive handlers\n    this.receiveHandlers.forEach(function (handler) {\n      handler(request.data, responder)\n    })\n  }\n}\n\nChannel.prototype.ready = function (fn) {\n  this.open.promise.then(fn)\n}\n\n/**\n * Receive an \"unknown\" message that does not have a predefined handler.\n * @param {Function} handler\n */\nChannel.prototype.receive = function (handler) {\n  if (typeof handler !== 'function') {\n    throw new Error('msgr: expecting handler to be a function')\n  }\n  this.receiveHandlers.push(handler)\n}\n\n/**\n * Send a message.\n * @param {String|*} type The message type or message data\n * @param {*} [data] The message data\n * @returns {Object}\n */\nChannel.prototype.send = function (type, data, _id) {\n  var id = _id || shortid.generate()\n\n  if (!data) {\n    data = type\n    if (type !== msgr.types.RESPONSE) {\n      type = msgr.types.UNKNOWN\n    }\n  }\n\n  var deferred = defer()\n\n  var payload = JSON.stringify({\n    __msgr: true,\n    id: id,\n    type: type,\n    data: data\n  })\n\n  var args = [payload]\n\n  if (this.isClient && data === msgr.types.CONNECT) {\n    args.push([this.messageChannel.port2])\n  }\n\n  this.open.promise.then(function () {\n    this.recipient.postMessage.apply(this.recipient, args)\n  }.bind(this))\n\n  this.promises[id] = deferred\n\n  return deferred.promise\n}\n\n// ---\n// Export\n// ---\n\nvar api = {\n  client: msgr.client,\n  worker: msgr.worker,\n  types: msgr.types\n}\n\nif (typeof define === 'function' && define.amd) {\n  define('msgr', function () { return api })\n} else if (typeof module === 'object' && module.exports) {\n  module.exports = api\n} else {\n  self.msgr = api\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/msgr/index.js\n// module id = 3\n// module chunks = 0 1","!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define([],t):\"object\"==typeof exports?exports.serialiseRequest=t():e.serialiseRequest=t()}(this,function(){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var n={};return t.m=e,t.c=n,t.p=\"\",t(0)}([function(e,t,n){function r(e){return s.blobToArrayBuffer(e).then(function(e){return String.fromCharCode.apply(null,new Uint16Array(e))})}function o(e,t){return s.base64StringToBlob(e).then(function(e){switch(t){case c.ARRAY_BUFFER:return s.blobToArrayBuffer(e);case c.BLOB:return e;case c.FORM_DATA:throw new Error(\"Cannot make FormData from serialised Request\");case c.JSON:return r(e).then(function(e){return JSON.parse(e)});case c.TEXT:return r(e);default:throw new Error('Unknown requested body type \"'+t+'\"')}})}function i(e,t){if(!(e instanceof Request))throw new Error(\"Expecting request to be instance of Request\");for(var n=[],r=e.headers.keys(),o=0;o<r.length;o++){var i=r[o];n[i]=e.headers.get(i)}var u={method:e.method,url:e.url,headers:n,context:e.context,referrer:e.referrer,mode:e.mode,credentials:e.credentials,redirect:e.redirect,integrity:e.integrity,cache:e.cache,bodyUsed:e.bodyUsed};return e.blob().then(s.blobToBase64String).then(function(e){return u.__body=e,t?u:JSON.stringify(u)})}function u(e){var t,n;if(\"string\"==typeof e)t=JSON.parse(e),n=t.url;else{if(\"object\"!=typeof e)throw new Error(\"Expecting serialised request to be a string or object\");t=e,n=t.url}const r=new Request(n,t),i={context:{enumerable:!0,value:t.context}},u=Object.keys(c).reduce(function(e,n){const i=f[n];return e[i]={enumerable:!0,value:function(){return r.bodyUsed?Promise.reject(new TypeError(\"Already used\")):(r.bodyUsed=!0,Promise.resolve(o(t.__body,n)))}},e},i);return Object.defineProperties(r,u),r}var a,a,s=n(1),c={ARRAY_BUFFER:\"ARRAY_BUFFER\",BLOB:\"BLOB\",FORM_DATA:\"FORM_DATA\",JSON:\"JSON\",TEXT:\"TEXT\"},f={ARRAY_BUFFER:\"arrayBuffer\",BLOB:\"blob\",FORM_DATA:\"formData\",JSON:\"json\",TEXT:\"text\"};i.deserialise=u,i.deserialize=u,a=function(){return i}.call(t,n,t,e),!(void 0!==a&&(e.exports=a)),a=function(){return i}.call(t,n,t,e),!(void 0!==a&&(e.exports=a))},function(e,t,n){\"use strict\";function r(e){for(var t=e.length,n=new ArrayBuffer(t),r=new Uint8Array(n),o=-1;++o<t;)r[o]=e.charCodeAt(o);return n}function o(e){for(var t=\"\",n=new Uint8Array(e),r=n.byteLength,o=-1;++o<r;)t+=String.fromCharCode(n[o]);return t}function i(e,t){return new R(function(n,r){var o=new Image;t&&(o.crossOrigin=t),o.onload=function(){n(o)},o.onerror=r,o.src=e})}function u(e){var t=document.createElement(\"canvas\");t.width=e.width,t.height=e.height;var n=t.getContext(\"2d\");return n.drawImage(e,0,0,e.width,e.height,0,0,e.width,e.height),t}function a(e,t){return t=t||{},\"string\"==typeof t&&(t={type:t}),new g(e,t)}function s(e){return(window.URL||window.webkitURL).createObjectURL(e)}function c(e){return(window.URL||window.webkitURL).revokeObjectURL(e)}function f(e){return new R(function(t,n){var r=new FileReader,i=\"function\"==typeof r.readAsBinaryString;r.onloadend=function(e){var n=e.target.result||\"\";return i?t(n):void t(o(n))},r.onerror=n,i?r.readAsBinaryString(e):r.readAsArrayBuffer(e)})}function l(e,t){return R.resolve().then(function(){var n=[r(atob(e))];return t?a(n,{type:t}):a(n)})}function d(e,t){return R.resolve().then(function(){return l(btoa(e),t)})}function h(e){return f(e).then(function(e){return btoa(e)})}function p(e){return R.resolve().then(function(){var t=e.match(/data:([^;]+)/)[1],n=e.replace(/^[^,]+,/,\"\"),o=r(atob(n));return a([o],{type:t})})}function v(e,t,n,r){return t=t||\"image/png\",i(e,n).then(function(e){return u(e)}).then(function(e){return e.toDataURL(t,r)})}function y(e,t,n){return R.resolve().then(function(){return\"function\"==typeof e.toBlob?new R(function(r){e.toBlob(r,t,n)}):p(e.toDataURL(t,n))})}function b(e,t,n,r){return t=t||\"image/png\",i(e,n).then(function(e){return u(e)}).then(function(e){return y(e,t,r)})}function w(e,t){return R.resolve().then(function(){return a([e],t)})}function m(e){return new R(function(t,n){var r=new FileReader;r.onloadend=function(e){var n=e.target.result||new ArrayBuffer(0);t(n)},r.onerror=n,r.readAsArrayBuffer(e)})}var g=n(2),R=n(3);e.exports={createBlob:a,createObjectURL:s,revokeObjectURL:c,imgSrcToBlob:b,imgSrcToDataURL:v,canvasToBlob:y,dataURLToBlob:p,blobToBase64String:h,base64StringToBlob:l,binaryStringToBlob:d,blobToBinaryString:f,arrayBufferToBlob:w,blobToArrayBuffer:m}},function(e,t){(function(t){function n(e){for(var t=0;t<e.length;t++){var n=e[t];if(n.buffer instanceof ArrayBuffer){var r=n.buffer;if(n.byteLength!==r.byteLength){var o=new Uint8Array(n.byteLength);o.set(new Uint8Array(r,n.byteOffset,n.byteLength)),r=o.buffer}e[t]=r}}}function r(e,t){t=t||{};var r=new i;n(e);for(var o=0;o<e.length;o++)r.append(e[o]);return t.type?r.getBlob(t.type):r.getBlob()}function o(e,t){return n(e),new Blob(e,t||{})}var i=t.BlobBuilder||t.WebKitBlobBuilder||t.MSBlobBuilder||t.MozBlobBuilder,u=function(){try{var e=new Blob([\"hi\"]);return 2===e.size}catch(t){return!1}}(),a=u&&function(){try{var e=new Blob([new Uint8Array([1,2])]);return 2===e.size}catch(t){return!1}}(),s=i&&i.prototype.append&&i.prototype.getBlob;e.exports=function(){return u?a?t.Blob:o:s?r:void 0}()}).call(t,function(){return this}())},function(e,t,n){(function(t){\"function\"==typeof t.Promise?e.exports=t.Promise:e.exports=n(4)}).call(t,function(){return this}())},function(e,t,n){var r,r;!function(t){e.exports=t()}(function(){return function e(t,n,o){function i(a,s){if(!n[a]){if(!t[a]){var c=\"function\"==typeof r&&r;if(!s&&c)return r(a,!0);if(u)return u(a,!0);throw new Error(\"Cannot find module '\"+a+\"'\")}var f=n[a]={exports:{}};t[a][0].call(f.exports,function(e){var n=t[a][1][e];return i(n?n:e)},f,f.exports,e,t,n,o)}return n[a].exports}for(var u=\"function\"==typeof r&&r,a=0;a<o.length;a++)i(o[a]);return i}({1:[function(e,t,n){\"use strict\";function r(){}t.exports=r},{}],2:[function(e,t,n){\"use strict\";var r=e(\"./promise\"),o=e(\"./reject\"),i=e(\"./resolve\"),u=e(\"./INTERNAL\"),a=e(\"./handlers\"),s=o(new TypeError(\"must be an array\"));t.exports=function(e){function t(e,t){function r(e){c[t]=e,++f===n&!o&&(o=!0,a.resolve(d,c))}i(e).then(r,function(e){o||(o=!0,a.reject(d,e))})}if(\"[object Array]\"!==Object.prototype.toString.call(e))return s;var n=e.length,o=!1;if(!n)return i([]);for(var c=new Array(n),f=0,l=-1,d=new r(u);++l<n;)t(e[l],l);return d}},{\"./INTERNAL\":1,\"./handlers\":3,\"./promise\":5,\"./reject\":7,\"./resolve\":8}],3:[function(e,t,n){\"use strict\";function r(e){var t=e&&e.then;return e&&\"object\"==typeof e&&\"function\"==typeof t?function(){t.apply(e,arguments)}:void 0}var o=e(\"./tryCatch\"),i=e(\"./resolveThenable\"),u=e(\"./states\");n.resolve=function(e,t){var a=o(r,t);if(\"error\"===a.status)return n.reject(e,a.value);var s=a.value;if(s)i.safely(e,s);else{e.state=u.FULFILLED,e.outcome=t;for(var c=-1,f=e.queue.length;++c<f;)e.queue[c].callFulfilled(t)}return e},n.reject=function(e,t){e.state=u.REJECTED,e.outcome=t;for(var n=-1,r=e.queue.length;++n<r;)e.queue[n].callRejected(t);return e}},{\"./resolveThenable\":9,\"./states\":10,\"./tryCatch\":11}],4:[function(e,t,n){t.exports=n=e(\"./promise\"),n.resolve=e(\"./resolve\"),n.reject=e(\"./reject\"),n.all=e(\"./all\")},{\"./all\":2,\"./promise\":5,\"./reject\":7,\"./resolve\":8}],5:[function(e,t,n){\"use strict\";function r(e){if(!(this instanceof r))return new r(e);if(\"function\"!=typeof e)throw new TypeError(\"reslover must be a function\");this.state=a.PENDING,this.queue=[],this.outcome=void 0,e!==i&&u.safely(this,e)}var o=e(\"./unwrap\"),i=e(\"./INTERNAL\"),u=e(\"./resolveThenable\"),a=e(\"./states\"),s=e(\"./queueItem\");t.exports=r,r.prototype[\"catch\"]=function(e){return this.then(null,e)},r.prototype.then=function(e,t){if(\"function\"!=typeof e&&this.state===a.FULFILLED||\"function\"!=typeof t&&this.state===a.REJECTED)return this;var n=new r(i);if(this.state!==a.PENDING){var u=this.state===a.FULFILLED?e:t;o(n,u,this.outcome)}else this.queue.push(new s(n,e,t));return n}},{\"./INTERNAL\":1,\"./queueItem\":6,\"./resolveThenable\":9,\"./states\":10,\"./unwrap\":12}],6:[function(e,t,n){\"use strict\";function r(e,t,n){this.promise=e,\"function\"==typeof t&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),\"function\"==typeof n&&(this.onRejected=n,this.callRejected=this.otherCallRejected)}var o=e(\"./handlers\"),i=e(\"./unwrap\");t.exports=r,r.prototype.callFulfilled=function(e){o.resolve(this.promise,e)},r.prototype.otherCallFulfilled=function(e){i(this.promise,this.onFulfilled,e)},r.prototype.callRejected=function(e){o.reject(this.promise,e)},r.prototype.otherCallRejected=function(e){i(this.promise,this.onRejected,e)}},{\"./handlers\":3,\"./unwrap\":12}],7:[function(e,t,n){\"use strict\";function r(e){var t=new o(i);return u.reject(t,e)}var o=e(\"./promise\"),i=e(\"./INTERNAL\"),u=e(\"./handlers\");t.exports=r},{\"./INTERNAL\":1,\"./handlers\":3,\"./promise\":5}],8:[function(e,t,n){\"use strict\";function r(e){if(e)return e instanceof o?e:u.resolve(new o(i),e);var t=typeof e;switch(t){case\"boolean\":return a;case\"undefined\":return c;case\"object\":return s;case\"number\":return f;case\"string\":return l}}var o=e(\"./promise\"),i=e(\"./INTERNAL\"),u=e(\"./handlers\");t.exports=r;var a=u.resolve(new o(i),!1),s=u.resolve(new o(i),null),c=u.resolve(new o(i),void 0),f=u.resolve(new o(i),0),l=u.resolve(new o(i),\"\")},{\"./INTERNAL\":1,\"./handlers\":3,\"./promise\":5}],9:[function(e,t,n){\"use strict\";function r(e,t){function n(t){a||(a=!0,o.reject(e,t))}function r(t){a||(a=!0,o.resolve(e,t))}function u(){t(r,n)}var a=!1,s=i(u);\"error\"===s.status&&n(s.value)}var o=e(\"./handlers\"),i=e(\"./tryCatch\");n.safely=r},{\"./handlers\":3,\"./tryCatch\":11}],10:[function(e,t,n){n.REJECTED=[\"REJECTED\"],n.FULFILLED=[\"FULFILLED\"],n.PENDING=[\"PENDING\"]},{}],11:[function(e,t,n){\"use strict\";function r(e,t){var n={};try{n.value=e(t),n.status=\"success\"}catch(r){n.status=\"error\",n.value=r}return n}t.exports=r},{}],12:[function(e,t,n){\"use strict\";function r(e,t,n){o(function(){var r;try{r=t(n)}catch(o){return i.reject(e,o)}r===e?i.reject(e,new TypeError(\"Cannot resolve promise with itself\")):i.resolve(e,r)})}var o=e(\"immediate\"),i=e(\"./handlers\");t.exports=r},{\"./handlers\":3,immediate:13}],13:[function(e,t,n){\"use strict\";function r(){i=!0;for(var e,t,n=s.length;n;){for(t=s,s=[],e=-1;++e<n;)t[e]();n=s.length}i=!1}function o(e){1!==s.push(e)||i||u()}for(var i,u,a=[e(\"./nextTick\"),e(\"./messageChannel\"),e(\"./stateChange\"),e(\"./timeout\")],s=[],c=-1,f=a.length;++c<f;)if(a[c].test()){u=a[c].install(r);break}t.exports=o},{\"./messageChannel\":14,\"./nextTick\":15,\"./stateChange\":16,\"./timeout\":17}],14:[function(e,t,n){(function(e){\"use strict\";n.test=function(){return e.setImmediate?!1:\"undefined\"!=typeof e.MessageChannel},n.install=function(t){var n=new e.MessageChannel;return n.port1.onmessage=t,function(){n.port2.postMessage(0)}}}).call(this,\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],15:[function(e,t,n){(function(e){\"use strict\";var t=e.MutationObserver||e.WebKitMutationObserver;n.test=function(){return t},n.install=function(n){var r=0,o=new t(n),i=e.document.createTextNode(\"\");return o.observe(i,{characterData:!0}),function(){i.data=r=++r%2}}}).call(this,\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],16:[function(e,t,n){(function(e){\"use strict\";n.test=function(){return\"document\"in e&&\"onreadystatechange\"in e.document.createElement(\"script\")},n.install=function(t){return function(){var n=e.document.createElement(\"script\");return n.onreadystatechange=function(){t(),n.onreadystatechange=null,n.parentNode.removeChild(n),n=null},e.document.documentElement.appendChild(n),t}}}).call(this,\"undefined\"!=typeof self?self:\"undefined\"!=typeof window?window:{})},{}],17:[function(e,t,n){\"use strict\";n.test=function(){return!0},n.install=function(e){return function(){setTimeout(e,0)}}},{}]},{},[4])(4)})}])});\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/serialise-request/dist/serialise-request.min.js\n// module id = 4\n// module chunks = 0 1","'use strict'\n\n/* global Response:false, FileReader:false */\n\n// https://gist.github.com/davoclavo/4424731\nfunction dataURItoBlob (dataURI) {\n  var byteString = atob(dataURI.split(',')[1])\n  var mimeString = dataURI.split(',')[0].split(':')[1].split(';')[0]\n  var arrayBuffer = new ArrayBuffer(byteString.length)\n  var _ia = new Uint8Array(arrayBuffer)\n  for (var i = 0; i < byteString.length; i++) {\n    _ia[i] = byteString.charCodeAt(i)\n  }\n  var dataView = new DataView(arrayBuffer)\n  return new Blob([dataView.buffer], {type: mimeString})\n}\n\n/**\n * Serialise a Response to a string or object.\n * @param {Response} response\n */\nfunction serialiseResponse (response) {\n  if (!(response instanceof Response)) {\n    throw new Error('Expecting response to be instance of Response')\n  }\n\n  var headers = []\n  var headerNames = response.headers.keys()\n  for (var i = 0; i < headerNames.length; i++) {\n    var headerName = headerNames[i]\n    headers[headerName] = response.headers.get(headerName)\n  }\n\n  return new Promise(function (resolve, reject) {\n    var reader = new FileReader()\n    response.blob().then(function (blob) {\n      return reader.readAsDataURL(blob)\n    })\n    reader.onerror = reject\n    reader.onloadend = function () {\n      resolve(JSON.stringify({\n        type: response.type,\n        url: response.url,\n        useFinalURL: response.useFinalURL,\n        status: response.status,\n        ok: response.ok,\n        statusText: response.statusText,\n        headers: headers,\n        __body: reader.result\n      }))\n    }\n  })\n}\n\n/**\n * De-serialise a Response from a string or object.\n * @param {Object|String} response\n */\nfunction deserialiseResponse (response) {\n  var realResponse\n\n  if (typeof response === 'string') {\n    realResponse = JSON.parse(response)\n  } else if (typeof response === 'object') {\n    realResponse = response\n  } else {\n    throw new Error('Expecting serialised response to be a string or object')\n  }\n\n  return new Response(dataURItoBlob(realResponse.__body))\n}\n\nserialiseResponse.deserialise = deserialiseResponse\nserialiseResponse.deserialize = deserialiseResponse\n\n/* global define:false window:false */\nif (typeof define === 'function' && define.amd) {\n  define('serialiseResponse', function () {\n    return serialiseResponse\n  })\n  define('serializeResponse', function () {\n    return serialiseResponse\n  })\n} else if (typeof module === 'object' && module.exports) {\n  module.exports = serialiseResponse\n} else if (typeof window !== 'undefined') {\n  window.serialiseResponse = serialiseResponse\n  window.serializeResponse = serialiseResponse\n} else {\n  throw new Error(\n    'Environment is not supported. ' +\n    'Please raise an issue at https://github.com/sdgluck/serialise-response/issues'\n  )\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/serialise-response/index.js\n// module id = 5\n// module chunks = 0 1","'use strict'\n\n/* global Promise:false */\n\n/**\n * Create a deferred.\n * @returns {Object}\n */\nfunction defer () {\n  var res\n  var rej\n  var promise = new Promise(function (resolve, reject) {\n    res = resolve\n    rej = reject\n  })\n  return {\n    promise: promise,\n    resolve: res,\n    reject: rej\n  }\n}\n\n/* global define:false window:false */\nif (typeof define === 'function' && define.amd) {\n  define('miniDefer', function () {\n    return defer\n  })\n} else if (typeof module === 'object' && module.exports) {\n  module.exports = defer\n} else if (typeof window !== 'undefined') {\n  window.miniDefer = defer\n} else {\n  throw new Error(\n    'Environment is not supported. ' +\n    'Please raise an issue at https://github.com/sdgluck/mini-defer/issues'\n  )\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/msgr/~/mini-defer/index.js\n// module id = 6\n// module chunks = 0 1","'use strict';\n\nvar encode = require('./encode');\nvar alphabet = require('./alphabet');\n\n// Ignore all milliseconds before a certain time to reduce the size of the date entropy without sacrificing uniqueness.\n// This number should be updated every year or so to keep the generated id short.\n// To regenerate `new Date() - 0` and bump the version. Always bump the version!\nvar REDUCE_TIME = 1459707606518;\n\n// don't change unless we change the algos or REDUCE_TIME\n// must be an integer and less than 16\nvar version = 6;\n\n// Counter is used when shortid is called multiple times in one second.\nvar counter;\n\n// Remember the last time shortid was called in case counter is needed.\nvar previousSeconds;\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction build(clusterWorkerId) {\n\n    var str = '';\n\n    var seconds = Math.floor((Date.now() - REDUCE_TIME) * 0.001);\n\n    if (seconds === previousSeconds) {\n        counter++;\n    } else {\n        counter = 0;\n        previousSeconds = seconds;\n    }\n\n    str = str + encode(alphabet.lookup, version);\n    str = str + encode(alphabet.lookup, clusterWorkerId);\n    if (counter > 0) {\n        str = str + encode(alphabet.lookup, counter);\n    }\n    str = str + encode(alphabet.lookup, seconds);\n\n    return str;\n}\n\nmodule.exports = build;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/shortid/lib/build.js\n// module id = 7\n// module chunks = 0 1","'use strict';\nvar alphabet = require('./alphabet');\n\n/**\n * Decode the id to get the version and worker\n * Mainly for debugging and testing.\n * @param id - the shortid-generated id.\n */\nfunction decode(id) {\n    var characters = alphabet.shuffled();\n    return {\n        version: characters.indexOf(id.substr(0, 1)) & 0x0f,\n        worker: characters.indexOf(id.substr(1, 1)) & 0x0f\n    };\n}\n\nmodule.exports = decode;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/shortid/lib/decode.js\n// module id = 8\n// module chunks = 0 1","'use strict';\n\nvar alphabet = require('./alphabet');\nvar encode = require('./encode');\nvar decode = require('./decode');\nvar build = require('./build');\nvar isValid = require('./is-valid');\n\n// if you are using cluster or multiple servers use this to make each instance\n// has a unique value for worker\n// Note: I don't know if this is automatically set when using third\n// party cluster solutions such as pm2.\nvar clusterWorkerId = require('./util/cluster-worker-id') || 0;\n\n/**\n * Set the seed.\n * Highly recommended if you don't want people to try to figure out your id schema.\n * exposed as shortid.seed(int)\n * @param seed Integer value to seed the random alphabet.  ALWAYS USE THE SAME SEED or you might get overlaps.\n */\nfunction seed(seedValue) {\n    alphabet.seed(seedValue);\n    return module.exports;\n}\n\n/**\n * Set the cluster worker or machine id\n * exposed as shortid.worker(int)\n * @param workerId worker must be positive integer.  Number less than 16 is recommended.\n * returns shortid module so it can be chained.\n */\nfunction worker(workerId) {\n    clusterWorkerId = workerId;\n    return module.exports;\n}\n\n/**\n *\n * sets new characters to use in the alphabet\n * returns the shuffled alphabet\n */\nfunction characters(newCharacters) {\n    if (newCharacters !== undefined) {\n        alphabet.characters(newCharacters);\n    }\n\n    return alphabet.shuffled();\n}\n\n/**\n * Generate unique id\n * Returns string id\n */\nfunction generate() {\n  return build(clusterWorkerId);\n}\n\n// Export all other functions as properties of the generate function\nmodule.exports = generate;\nmodule.exports.generate = generate;\nmodule.exports.seed = seed;\nmodule.exports.worker = worker;\nmodule.exports.characters = characters;\nmodule.exports.decode = decode;\nmodule.exports.isValid = isValid;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/shortid/lib/index.js\n// module id = 9\n// module chunks = 0 1","'use strict';\nvar alphabet = require('./alphabet');\n\nfunction isShortId(id) {\n    if (!id || typeof id !== 'string' || id.length < 6 ) {\n        return false;\n    }\n\n    var characters = alphabet.characters();\n    var len = id.length;\n    for(var i = 0; i < len;i++) {\n        if (characters.indexOf(id[i]) === -1) {\n            return false;\n        }\n    }\n    return true;\n}\n\nmodule.exports = isShortId;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/shortid/lib/is-valid.js\n// module id = 10\n// module chunks = 0 1","'use strict';\n\nvar crypto = typeof window === 'object' && (window.crypto || window.msCrypto); // IE 11 uses window.msCrypto\n\nfunction randomByte() {\n    if (!crypto || !crypto.getRandomValues) {\n        return Math.floor(Math.random() * 256) & 0x30;\n    }\n    var dest = new Uint8Array(1);\n    crypto.getRandomValues(dest);\n    return dest[0] & 0x30;\n}\n\nmodule.exports = randomByte;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/shortid/lib/random/random-byte-browser.js\n// module id = 11\n// module chunks = 0 1","'use strict';\n\n// Found this seed-based random generator somewhere\n// Based on The Central Randomizer 1.3 (C) 1997 by Paul Houle (houle@msc.cornell.edu)\n\nvar seed = 1;\n\n/**\n * return a random number based on a seed\n * @param seed\n * @returns {number}\n */\nfunction getNextValue() {\n    seed = (seed * 9301 + 49297) % 233280;\n    return seed/(233280.0);\n}\n\nfunction setSeed(_seed_) {\n    seed = _seed_;\n}\n\nmodule.exports = {\n    nextValue: getNextValue,\n    seed: setSeed\n};\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/shortid/lib/random/random-from-seed.js\n// module id = 12\n// module chunks = 0 1","'use strict';\n\nmodule.exports = 0;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/shortid/lib/util/cluster-worker-id-browser.js\n// module id = 13\n// module chunks = 0 1","'use strict'\n\n/* global Promise:false */\n\n/**\n * Create a deferred.\n * @returns {Object}\n */\nmodule.exports = function defer () {\n  var res\n  var rej\n  var promise = new Promise(function (resolve, reject) {\n    res = resolve\n    rej = reject\n  })\n  return {\n    promise: promise,\n    resolve: res,\n    reject: rej\n  }\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/mini-defer/index.js\n// module id = 15\n// module chunks = 0","/* global Promise:false, define:false, module:false, self:false */\n\n'use strict'\n\nif (typeof define === 'function' && define.amd) {\n  define('sw-register', function () { return register })\n} else if (typeof module === 'object' && module.exports) {\n  module.exports = register\n} else {\n  self.swRegister = register\n}\n\n/**\n * Register or retrieve a Service Worker that controls the page.\n * @param {Object} options\n * @returns {Promise}\n */\nfunction register (options, __mockSelf) {\n  var _self = __mockSelf || self\n  var navigator = _self.navigator\n\n  if (!('serviceWorker' in navigator)) {\n    return Promise.reject(new Error('Service Workers unsupported'))\n  }\n\n  var serviceWorker = navigator.serviceWorker.controller\n\n  return Promise.resolve()\n    .then(function () {\n      // Get existing service worker or get registration promise\n      if (serviceWorker) return serviceWorker\n      else if (!options) return navigator.serviceWorker.ready\n    })\n    .then(function (registration) {\n      if (registration) {\n        // Take this service worker that the registration returned\n        serviceWorker = registration\n      } else if (!registration && options) {\n        // No registration but we have options to register one\n        return navigator.serviceWorker\n            .register(options.url, options)\n            .then(function (registration) {\n              options.forceUpdate && registration.update()\n            })\n      } else if (!registration && !options) {\n        // No existing worker,\n        // no registration that returned one,\n        // no options to register one\n        throw new Error(\n          'no active service worker or configuration passed to install one'\n        )\n      }\n    })\n    .then(function () {\n      return serviceWorker\n    })\n}\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./~/sw-register/index.js\n// module id = 16\n// module chunks = 0","/* global require:false, fetch:false, Request:false */\n\n'use strict'\n\nconst msgr = require('msgr')\nconst shortid = require('shortid')\nconst defer = require('mini-defer')\nconst register = require('sw-register')\nconst serialiseRequest = require('serialise-request')\nconst serialiseResponse = require('serialise-response')\n\nconst ready = defer()\n\nlet syncs = []\nlet channel = null\nlet hasStartedInit = false\nlet hasBackgroundSyncSupport = true\n\nconst syncUtil = {\n  _base: {\n    id: null,\n    name: null,\n    createdOn: null,\n    syncedOn: null,\n    request: null,\n    response: null,\n    cancelled: false\n  },\n\n  _create (obj = {}) {\n    return {\n      ...syncUtil._base,\n      ...obj,\n      ...defer()\n    }\n  },\n\n  createFromUserOptions (obj) {\n    return syncUtil._create({\n      id: obj.name || shortid.generate(),\n      name: obj.name,\n      createdOn: Date.now(),\n      request: obj.request\n    })\n  },\n\n  hydrate (obj) {\n    const sync = syncUtil._create(obj)\n    if (sync.response) {\n      sync.response = serialiseResponse.deserialise(sync.response)\n      sync.resolve()\n    }\n    return sync\n  },\n\n  makePublicApi (sync) {\n    return Object.assign(sync.promise, {\n      name: sync.name,\n      id: sync.id,\n      createdOn: sync.createdOn,\n      syncedOn: sync.syncedOn,\n      cancel: () => !sync.cancelled && !sync.response\n        ? (sync.cancelled = true, channel.send('CANCEL_SYNC', sync.id))\n        : Promise.reject(new Error('already cancelled or complete'))\n    })\n  }\n}\n\n/**\n * Start a channel with the worker. Wrapped so we can delay\n * execution until we know we have an activated worker.\n * @param {Object} worker\n * @returns {Object}\n */\nconst openCommsChannel = (worker) => msgr.client(worker, {\n  SYNC_RESULT: ({ id, syncedOn, response }) => {\n    const sync = syncs.find((s) => s.id === id)\n    if (sync) {\n      const realResponse = serialiseResponse.deserialise(response)\n      sync.resolve(realResponse)\n      if (sync.name) {\n        sync.response = realResponse\n        sync.syncedOn = syncedOn\n      }\n    }\n  }\n})\n\n// ---\n// Public\n// ---\n\n/**\n * Create a 'sync' operation.\n * @param {String|Request} [name]\n * @param {Object|String|Request} request\n * @param {Object} [options]\n * @returns {Promise}\n */\nconst _fetchSync = function fetchSync (name, request, options) {\n  if (!hasStartedInit) {\n    throw new Error('initialise first with fetchSync.init()')\n  }\n\n  const isRequestOptionsCall = () => arguments.length === 2 &&\n    (typeof arguments[0] === 'string' || arguments[0] instanceof Request) &&\n    (typeof arguments[1] === 'object' && !(arguments[1] instanceof Request))\n\n  if (arguments.length === 1) {\n    request = name\n    name = null\n  } else if (isRequestOptionsCall()) {\n    options = request\n    request = name\n    name = null\n  }\n\n  if (typeof request !== 'string' && !(request instanceof Request)) {\n    throw new Error('expecting request to be a string or Request')\n  } else if (options && typeof options !== 'object') {\n    throw new Error('expecting options to be an object')\n  }\n\n  if (!hasBackgroundSyncSupport) {\n    return fetch(request, options)\n  }\n\n  let sync = syncs.find((s) => s.id === name)\n\n  if (sync) {\n    const err = new Error(`sync operation already exists with name '${name}'`)\n    return Promise.reject(err)\n  }\n\n  sync = syncUtil.createFromUserOptions({ name, request, options })\n\n  syncs.push(sync)\n\n  ready.promise\n    .then(() => serialiseRequest(new Request(request, options)))\n    .then((request) => { sync.request = request })\n    .then(() => channel.send('REGISTER_SYNC', sync))\n\n  return syncUtil.makePublicApi(sync)\n}\n\nexport default _fetchSync\n\n/**\n * Initialise fetchSync.\n * @param {Object} options\n * @returns {Promise}\n*/\n_fetchSync.init = function fetchSync_init (options = null) {\n  if (hasStartedInit) {\n    throw new Error('fetchSync.init() called multiple times')\n  }\n\n  hasStartedInit = true\n\n  if (!('serviceWorker' in navigator) || !('SyncManager' in window)) {\n    hasBackgroundSyncSupport = false\n    return Promise.reject(new Error('environment not supported'))\n  }\n\n  return register(options)\n    .then(openCommsChannel)\n    .then((c) => { channel = c })\n    .then(() => channel.send('GET_SYNCS'))\n    .then((data) => syncs.push(...(data || []).map(syncUtil.hydrate)))\n    .then(() => { ready.resolve() })\n}\n\n/**\n * Get a sync.\n * @param {String} name\n * @returns {Promise}\n */\n_fetchSync.get = waitForReady(function fetchSync_get (name) {\n  const sync = syncs.find((s) => s.name === name)\n  return sync ? syncUtil.makePublicApi(sync) : Promise.reject(new Error('not found'))\n})\n\n/**\n * Get all syncs.\n * @returns {Array}\n */\n_fetchSync.getAll = waitForReady(function fetchSync_getAll () {\n  return syncs.map(syncUtil.makePublicApi)\n})\n\n/**\n * Cancel a sync.\n * @param {Object|String} sync\n * @returns {Promise}\n */\n_fetchSync.cancel = waitForReady(function fetchSync_cancel (name) {\n  const sync = syncs.find((s) => s.name === name)\n  return sync ? syncUtil.makePublicApi(sync).cancel() : Promise.reject(new Error('not found'))\n})\n\n/**\n * Cancel all syncs.\n * @returns {Promise}\n */\n_fetchSync.cancelAll = waitForReady(function fetchSync_cancelAll () {\n  return channel.send('CANCEL_ALL_SYNCS')\n    .then(() => { syncs = [] })\n})\n\n/**\n * Wrap a function to wait for the application to be initialised\n * (comms channel with service worker is open) before executing.\n * @param {Function} method\n * @returns {Function}\n */\nfunction waitForReady (method) {\n  return function fetchSync_readyWrapper (...args) {\n    if (hasStartedInit) return ready.promise.then(() => method(...args))\n    throw new Error('initialise first with fetchSync.init()')\n  }\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/client.js"],"sourceRoot":""}